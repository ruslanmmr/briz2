{"version":3,"names":[],"mappings":"","sources":["common.js"],"sourcesContent":["$(document).ready(function () {\r\n  nav();\r\n  lazy();\r\n  tabs();\r\n  upload();\r\n  cover();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\nvar innerWidth = $('body').innerWidth();\r\n\r\n//колбэк срабатывания wow\r\nfunction afterReveal( el ) {\r\n  el.addEventListener('animationend', function( event ) {\r\n    lazy();\r\n  });\r\n}\r\n\r\nfunction nav() {\r\n  var navButton = $('.mobile-button, .overlay'),\r\n    nav = $('.nav'),\r\n    navLink = $('.nav__link'),\r\n    overlay = $('.overlay');\r\n\r\n  navButton.click(function (event) {\r\n    event.preventDefault();\r\n    nav.toggleClass('nav_active');\r\n    navState();\r\n  })\r\n  \r\n  function navState() {\r\n    if (nav.hasClass('nav_active')) {\r\n      navButton.addClass('mobile-button_active');\r\n      overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('body').addClass('body_fixed');\r\n    } else {\r\n      navButton.removeClass('mobile-button_active');\r\n      overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('body').removeClass('body_fixed');\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if (innerWidth > 992) {\r\n      nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  });\r\n  \r\n  navLink.on('click', function () {\r\n    if(innerWidth < 992) {\r\n      nav.removeClass('nav_active');\r\n      navState();\r\n    }\r\n  })\r\n}\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    threshold: '',\r\n    effect: 'fadeIn',\r\n    effectTime: '300',\r\n    afterLoad: function() {\r\n      cover();\r\n    }\r\n  });\r\n}\r\n//tabs\r\nfunction tabs() {\r\n  var $TabToggle = $('.faq-tab__head_toggle'),\r\n      $Tab = $('.faq-tab'),\r\n      $subTabToggle = $('.sub-tab__head'),\r\n      $subTab = $('.sub-tab');\r\n\r\n  $TabToggle.on('click', function() {\r\n    $(this).parents('.faq-tab').toggleClass('faq-tab_active');\r\n    tabState();\r\n  })\r\n  $subTabToggle.on('click', function() {\r\n    $(this).parents('.sub-tab').toggleClass('sub-tab_active');\r\n    subTabState();\r\n  })\r\n\r\n  function tabState() {\r\n    $Tab.each(function() {\r\n      if($(this).hasClass('faq-tab_active')) {\r\n        $(this).find('.faq-tab__dropdown').slideDown();\r\n      } else {\r\n        $(this).find('.faq-tab__dropdown').slideUp();\r\n        $(this).find('.sub-tab').removeClass('sub-tab_active');\r\n        subTabState();\r\n      }\r\n    })\r\n  }\r\n  function subTabState() {\r\n    $subTab.each(function() {\r\n      if($(this).hasClass('sub-tab_active')) {\r\n        $(this).find('.sub-tab__dropdown').slideDown();\r\n      } else {\r\n        $(this).find('.sub-tab__dropdown').slideUp();\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n//upload\r\nfunction upload() {\r\n  $('.upload__input').on('change', function() {\r\n    $('.upload__block').remove();\r\n    for (var i = 0; i < this.files.length; i++) {\r\n        var name = this.files[i].name;\r\n        $('.upload__container').append('<div class=\"upload__block\"><span>'+ name +'</span></div>');\r\n    }\r\n});\r\n}\r\n\r\n//image-cover-box\r\nfunction cover() {\r\n  $('.cover-box').each(function () {\r\n    //set size\r\n    var th = $(this).height(), //box height\r\n      tw = $(this).width(), //box width\r\n      im = $(this).children('img'), //image\r\n      ih = im.height(),\r\n      iw = im.width();\r\n    if ((tw / th) >= (iw / ih)) {\r\n      im.addClass('ww').removeClass('wh');\r\n    } else {\r\n      im.addClass('wh').removeClass('ww');\r\n    }\r\n  });\r\n}\r\n"],"file":"../common.min.js"}